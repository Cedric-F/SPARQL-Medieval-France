(this["webpackJsonpmedieval-france"]=this["webpackJsonpmedieval-france"]||[]).push([[0],{104:function(e,t,a){e.exports=a(208)},109:function(e,t,a){},111:function(e,t,a){},112:function(e){e.exports=JSON.parse("{}")},167:function(e,t,a){var n={"./Castle.webp":67,"./Cathedral.webp":168,"./City.webp":169};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id=167},168:function(e,t,a){e.exports=a.p+"static/media/Cathedral.36b2a563.webp"},169:function(e,t,a){e.exports=a.p+"static/media/City.0ea4fa96.webp"},208:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(14),r=a.n(l),o=(a(109),a(110),a(11)),s=a(12),c=a(18),p=a(17),u=(a(111),a(92)),y=a(215),f=(a(112),a(93)),m=a.n(f),d=a(219),h=a(212),b=a(211),g=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.name;return i.a.createElement("div",{title:e,className:"marker"},i.a.createElement(b.a,{to:{pathname:"/Medieval-France/"+e.replace(/\s/g,"_"),state:{name:e}},tabIndex:"-1"},i.a.createElement("img",{src:a(67),alt:e})))}}]),n}(n.Component);a(53).config();var v=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"mapOptions",value:function(){return{scrollwheel:!0,mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:["terrain"]},styles:this.props.style}}},{key:"markers",value:function(e){var t=[],a=function(a){e[a].forEach((function(e,n){return t.push(i.a.createElement(g,{key:e.name+"-"+n,type:a,name:e.name,lat:e.coordinates.lat,lng:e.coordinates.lng}))}))};for(var n in e)a(n);return t}},{key:"render",value:function(){var e=this.props,t=e.locations,a=e.filter,n=e.onToggle;return i.a.createElement("main",{className:"map",tabIndex:"-1",role:"application"},i.a.createElement(d.a,{tabIndex:"0",name:"Toggle","aria-label":"Toggle Side Panel",className:"toggle-btn",onClick:n},i.a.createElement(h.a,{glyph:"menu-hamburger"})),i.a.createElement(m.a,{bootstrapURLKeys:{key:"AIzaSyDHQmuUZanQp42dV8KlcM_pcUx2jv0Nw4I",languages:["en","fr"],libraries:"places"},options:this.mapOptions.bind(this),defaultCenter:this.props.center,defaultZoom:this.props.zoom},this.markers(t).map((function(e){return new RegExp(a,"i").test(e.props.name)&&e}))))}}]),a}(n.Component);v.defaultProps={center:{lat:48,lng:2.3522},zoom:5,mapTypeId:"terrain"};var T=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.props.query(e.target.textContent,!0),console.log(this)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,l=t.set,r=t.filter,o=t.isClicked;return i.a.createElement("div",null,i.a.createElement("div",{className:"list-view-title",tabIndex:"0","aria-label":"List of ".concat(n,"s.")},i.a.createElement("img",{src:a(167)("./".concat(n,".webp")),alt:n+" logo"}),i.a.createElement("h2",null,n)),i.a.createElement("ul",{className:"list-view"},l.map((function(t){return new RegExp(o?"":r,"ig").test(t.name)&&i.a.createElement("li",{key:t.name,onClick:e.handleClick.bind(e),className:"list-view-item"},i.a.createElement(b.a,{to:{pathname:"/Medieval-France/"+t.name.replace(/\s/g,"_"),state:{type:t.type,name:t.name,photo:t.thumbnail,source:t.source}}},t.name))}))))}}]),n}(n.Component),w=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderLists",value:function(e){var t=[];for(var a in e)t.push(i.a.createElement(T,{isClicked:this.props.isClicked,query:this.props.query,filter:this.props.filter,key:a,type:a,set:e[a]}));return t}},{key:"render",value:function(){var e=this.props,t=e.locations,a=e.query,n=e.toggled;return i.a.createElement("aside",{className:"side-wrap ".concat(n&&"toggle")},i.a.createElement("div",{className:"side-panel"},i.a.createElement("h1",null,"List view"),i.a.createElement("label",{htmlFor:"search",className:"input-label",tabIndex:"0"},"Search"),i.a.createElement("input",{"aria-label":"Start typing your research.",placeholder:"Search by name...",tabIndex:"1",id:"search",onChange:function(e){return a(e.target.value,!1)},type:"text",maxLength:30,className:"search-input"}),this.renderLists(t),i.a.createElement("a",{className:"back-to-top",href:"#search","aria-label":"Back to the top."},"Back to the top.")))}}]),a}(n.Component),k=a(42),E=a(213),C=a(216),O=a(214),x=a(220),j=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e,n){var i;return Object(o.a)(this,a),(i=t.call(this,e,n)).handleClose=i.handleClose.bind(Object(k.a)(i)),i.state={show:!0,data:{}},i}return Object(s.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1}),this.props.resetQuery(""),this.props.history.push("".concat("/Medieval-France","/"))}},{key:"getWiki",value:function(e){console.log("getWiki");var t=this.props.locations.Castle.filter((function(t){return t.name==e}))[0];t&&this.setState({data:t})}},{key:"componentDidMount",value:function(){console.log("componentDidMount");var e=this.props.data.location.state.name;this.getWiki(e)}},{key:"render",value:function(){console.log(this.state.data);var e=this.props.data.location.state,t=e.name,a=(e.photo,e.source),n=i.a.createElement(E.a,{id:"modal-tooltip",tabIndex:"0"},a?"Wikipedia and ".concat(a):"Wikipedia");return i.a.createElement("div",null,i.a.createElement(C.a,{show:this.state.show,onHide:this.handleClose},i.a.createElement(C.a.Header,{closeButton:!0},i.a.createElement(C.a.Title,null,t.replaceAll("_"," "))),i.a.createElement(C.a.Body,null,i.a.createElement("p",{className:"source"},i.a.createElement(O.a,{className:"thumbnail",src:this.state.data.thumbnail,alt:"A photo of ".concat(t),tabIndex:"0",responsive:!0}),i.a.createElement(x.a,{overlay:n},i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/".concat(t),target:"_blank",rel:"noopener noreferrer"},"Sources"))),i.a.createElement("hr",null),i.a.createElement("h4",{tabIndex:"0"},"History"),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.data.abstract},tabIndex:"0"})),i.a.createElement(C.a.Footer,null,i.a.createElement(d.a,{onClick:this.handleClose,name:"Close","aria-label":"Close the Info Window"},"Close"))))}}]),a}(n.Component),I=a(217),N=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={toggled:!0,query:"",isClicked:!1,locations:{Castle:[]}},n}return Object(s.a)(a,[{key:"handleQuery",value:function(e,t){this.setState({query:e,isClicked:t})}},{key:"toggle",value:function(){this.setState({toggled:!this.state.toggled})}},{key:"fetchData",value:function(){var e=this;y.a.get("http://dbpedia.org/sparql",{params:{query:"PREFIX dct: <http://purl.org/dc/terms/>\n                    PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>\n                    PREFIX dbo: <http://dbpedia.org/ontology/>\n                    PREFIX dbc: <http://dbpedia.org/resource/Category:>\n                    PREFIX gold: <http://purl.org/linguistics/gold/>\n                    SELECT DISTINCT *\n                    WHERE\n                    {\n                       ?building dct:subject dbc:Ch\xe2teaux_in_France ;\n                                 dbo:wikiPageWikiLink ?castles .\n                       ?castles  dbo:abstract ?abstract ;\n                                 gold:hypernym ?hypernym .\n                       ?castles  dbo:thumbnail ?thumbnail .\n                       ?castles  geo:lat ?lat .\n                       ?castles  geo:long ?long\n                       FILTER (  LANG (?abstract) = 'en')\n                     }"}}).then((function(t){var a=e.state.locations;a.Castle=t.data.results.bindings.filter((function(e){return e.hypernym.value.endsWith("/Castle")||e.hypernym.value.endsWith("/Standing")||e.hypernym.value.endsWith("/Ch\xe2teau")})).map((function(e){if(e.castles){var t=e.castles.value.split("/");return{name:t[t.length-1],abstract:e.abstract.value,thumbnail:e.thumbnail.value,coordinates:{lat:e.lat.value,lng:e.long.value}}}})).filter((function(e,t,a){return e&&a.findIndex((function(t){return t.name===e.name}))===t})),e.setState({locations:a})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"app"},i.a.createElement(I.a,{exact:!0,path:"".concat("/Medieval-France","/:Place"),render:function(t){var a=t.location,n=t.history;return console.log(a,n),i.a.createElement(j,{locations:e.state.locations,resetQuery:e.handleQuery.bind(e),history:n,data:{location:a}})}}),i.a.createElement(w,{toggled:this.state.toggled,filter:this.state.query,isClicked:this.state.isClicked,query:this.handleQuery.bind(this),locations:this.state.locations}),i.a.createElement(v,{onToggle:this.toggle.bind(this),filter:this.state.query,isClicked:this.state.isClicked,style:u,locations:this.state.locations}))}}]),a}(n.Component),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=a(218),W=a(53);a.n(W).a.config(),r.a.render(i.a.createElement(F.a,null,i.a.createElement(N,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Medieval-France",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/Medieval-France","/service-worker.js");_?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):S(e)}))}}()},67:function(e,t,a){e.exports=a.p+"static/media/Castle.c26c8752.webp"},92:function(e){e.exports=JSON.parse('[{"featureType":"all","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"all","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"administrative.country","elementType":"geometry.fill","stylers":[{"hue":"#ff0000"},{"visibility":"off"}]},{"featureType":"administrative.country","elementType":"geometry.stroke","stylers":[{"color":"#2c2f2d"}]},{"featureType":"administrative.province","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"administrative.locality","elementType":"labels","stylers":[{"color":"#323232"},{"visibility":"simplified"}]},{"featureType":"administrative.neighborhood","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"administrative.land_parcel","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#dcc896"}]},{"featureType":"landscape.natural.landcover","elementType":"all","stylers":[{"color":"#000080"},{"visibility":"on"},{"weight":8}]},{"featureType":"landscape.natural.landcover","elementType":"geometry.fill","stylers":[{"color":"#000080"},{"visibility":"off"},{"weight":8}]},{"featureType":"landscape.natural.terrain","elementType":"geometry.fill","stylers":[{"color":"#c8b482"}]},{"featureType":"poi","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"poi.attraction","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.government","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.place_of_worship","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.sports_complex","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#323232"},{"weight":0.5}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"visibility":"on"},{"color":"#323232"},{"weight":"0.01"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry.fill","stylers":[{"weight":0.5},{"color":"#323232"},{"visibility":"on"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road.highway.controlled_access","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"weight":0.5},{"color":"#c89664"}]},{"featureType":"road.arterial","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#c3af7d"}]},{"featureType":"water","elementType":"labels","stylers":[{"color":"#323232"},{"weight":8}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"weight":8}]}]')}},[[104,1,2]]]);
//# sourceMappingURL=main.9600eae7.chunk.js.map